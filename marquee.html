<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
  ================================================== -->
    <meta charset="utf-8">
    <title>MozMarquee</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Mobile Specific Metas
  ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
  ================================================== -->
    <link rel="stylesheet" href="style/base.css">
    <link rel="stylesheet" href="style/skeleton.css">
    <link rel="stylesheet" href="style/layout.css">

    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
    <!-- Primary Page Layout
    ================================================== -->

    <!-- Delete everything in this .container and get started on your own site! -->

    <div class="container">
        <div class="sixteen columns">
            <header>
                <span id="set">&#9776;</span>
                <span class="clear-left">MozMarquee</span>
                <span class="beta">Beta</span>
            </header>
            <hr />
        </div>
        <div class="sixteen columns marquee">
            <span id="marquee">TestMarquee</span>
        </div>
        <div id="layer">
            <div class="container">
                <div id="menu" class="menubar sixteen columns">
                    <h1 class="title">Settings</h1>
                    <hr>
                    <form action=".">
                        <div class="fifty">
                            <label for="text">Text</label>
                            <textarea name="text" id="text" placeholder="Put your text here!!!">Hello text</textarea>
                        </div>
                        <div class="fifty">
                            <label for="font">Font</label>
                            <select name="font" id="font">
                                <option value="Bangers">Bangers</option>
                                <option value="Lemon">Lemon</option>
                                <option value="Playball">Playball</option>
                                <option value="Righteous">Righteous</option>
                                <option value="Varela">Varela</option>
                                <option value="triple dot">Marquee</option>
                            </select>
                        </div>
                        <div class="fifty">
                            <label for="style">
                                Text Style
                            </label>
                            <select name="style" id="style">
                                <option value="Italic">Italic</option>
                                <option value="Bold">Bold</option>
                                <option value="underline">underline</option>
                                <option value="overline">overline</option>
                                <option value="linetru">Line trough</option>
                            </select>
                        </div>
                        <div class="fifty">
                            <label for="color">Color</label>
                            <input type="text" style="margin-left:25px;" class="color" name="color" id="color">
                        </div>
                        <div>
                            <input type="button" id="save" value="Save">
                            <input type="button" value="Cancel" id="cancel">                     
                        </div>
                    </form>
                </div>
            </div>
                
        </div> 
    </div><!-- container -->
    <!-- JS -->
        <script src="js/fade.js"></script>
        <script src="js/jscolor/jscolor.js"></script>
        <script>
                (function(){
                    document.querySelector('.marquee').style.height = (window.innerHeight - 81 ) + "px";
                    
                    function gbi(text){
                        return document.getElementById(text);
                    }
                    function newText (element, text) {
                        gbi(element).innerHTML = text;
                    }
                    function hide(argument) {
                        if( menu.style.opacity == 1 && menu.style.display != "none" )
                            FX.fadeOut(menu,{duration:2000});
                    }

                    var menu    = gbi('layer');
                    var text    = gbi('text');
                    var font    = gbi('font');
                    var color   = gbi('color');
                    var marquee = gbi('marquee');
                    var style   = gbi('style');
                    var save    = gbi('save');
                    document.body.onresize = function(){
                        console.log("change : " + window.innerHeight);
                        document.querySelector('.marquee').style.height = (window.innerHeight -81) + "px" ;
                    };
                    gbi('set').onclick = function(){
                        FX.fadeIn(menu, {duration:2000});
                        // return true;
                    };
                    gbi("cancel").onclick = function(){
                        hide();
                    };
                    document.onkeyup = function(e){
                        if(e.which == 27)
                            hide();
                    };

                    save.onclick = function (argument) {
                        marquee.style.fontFamily = font.value;
                        marquee.style.color = "#" + color.value;
                        marquee.className = style.value;
                        marquee.innerHTML = text.value;
                        FX.fadeOut(menu, {duration:2000});
                    };
                })();
        </script>
<!-- End Document
================================================== -->
</body>
</html>